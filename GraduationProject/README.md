## What is this repository for? 

* This repository is used for e2e testing on mobile project
* We support both Android and iOS platforms

## How do I get set up? 

* Clone the repository in your desired location
* Open the repository using an editor (VScode for example)
* From the editor terminal, run command npm install

## Pre-requisites

* Software for emulators like Genymotion/Android Studio (preferred)
* Appium Server GUI
* For identifying locators we use Appium Inspector for which we need different capabilities(configuration) based on device used
    * Android - using appium server.
        * "appium:deviceName": "emulator-5556",
        * "appium:automationName": "UiAutomator2",
        * "platformName": "Android",
        * "appium:appPackage": "com.elearningforce.LMS",
        * "appium:platformVersion": "12.0",
        * "appium:appActivity": "crc64fb8c83b3437b661c.MainActivity",
        * "appium:noReset": "true"
    * iOS - using BrowserStack (in this way you don't need an iOS emulator)
        * "appium:os_version": "16.2",
        * "appium:deviceName": "iPhone 11 Pro Max",
        * "appium:app": "bs://4dcbbdccd447cb59322179d60c1e37d1118520d2"
    * NOTE: this is just an example, change version/device/app name based on your setup.

## Run your first testcase

### Run test on emulator ###

* THIS IS APPLICABLE ONLY FOR ANDROID (exception if you have a Mac and you are able to have iOS emulator)

* Start appium server GUI and set the following options in Advanced Tab:
    * Server Address: 0.0.0.0
    * Server Port: 4723
    * Allow CORS: Enabled
    * Other options leave to default values
* Open an emulator (using Genymotion/Android studio) - App doesn't have to be installed
* Copy the desired app version to be tested in apps/android
* In config/android/local.android.conf.ts 
    * Under specs, set your path to the test cases you want to execute
    * Set your desired capabilities - only deviceName and platformVersion should be changed based on your setup
* In editor terminal(or using shell) use the command npm run emulator.android

### Run test on Browser Stack ###

* This can be used for both Android and iOS. The following steps are the same for both platforms, just be aware to make the necessary changes based on your device

* Copy the desired app version to be tested in apps/android
* In config/android/bs.app.android.conf.ts 
    * Under specs, set your path to the test cases you want to execute
    * Set your desired capabilities - only device and platformVersion should be changed based on your setup
* In editor terminal(or using shell) use the command npm run bs.app.android.conf.ts
* To view the video of each test, you must log in BrowserStack

## Contribution guidelines

* Folder name convention
Small letters with NO spaces or punctuation. Example: test/pageobjects
Exception from this rule are folders generated by webdriverIO/Appium

* Files Convention
Small letters and words should be separated by ".". Example: base.page.ts

* Locators and Functions
    * When the locators are different for the same element, the name of the locator should have the device name in it ("Android", "IOS"). Example: inputUsernameAndroid / inputUsernameIOS
    * Because the logic is the same for Android and iOS, functions used in test cases should have the parameter device ("Android", "IOS") in order to identify locators
    * Exception for locators is when the element can be identified the same for both Android and iOS. Example: private get notificationPageButton () { return ('~Notifications'); }

* Test cases will be created under test/specs/android (or ios)

* Functions and locators for test cases will be created under test/pageobjects and corresponding page